# export GCP_AUTH_KIND=serviceaccount
# export GCP_SERVICE_ACCOUNT_FILE=/home/filip/webserver1-283520-386230d8738c.json
# export GCP_SCOPES=https://www.googleapis.com/auth/compute,https://www.googleapis.com/auth/cloud-platform
# ansible-playbook cluster.yaml
---
- hosts: localhost
  tasks:
    - name: create a cluster
      gcp_container_cluster:
        name: my-cluster1
        initial_node_count: 2
        master_auth:
          username: cluster_admin
          password: my-secret-password
        node_config:
          machine_type: n1-standard-4
          disk_size_gb: 500
        location: us-central1-a
        project: webserver1-283520
#        auth_kind: serviceaccount
#        service_account_file: "/home/filip/webserver1-283520-386230d8738c.json"
        state: present